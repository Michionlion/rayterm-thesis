%
% $Id: ch03_thework.tex
%
%   *******************************************************************
%   * SEE THE MAIN FILE "AllegThesis.tex" FOR MORE INFORMATION.       *
%   *******************************************************************
%
\chapter{Method of Approach} \label{ch:methods}

\name\ was developed using a modified agile approach; short development ``sprints'' were executed for key system development.
We describe the product of some of those sprints in Section~\ref{ch:methods:renderer}, primarily on the implementation of the ray-tracing engine.
In this chapter, we also describe the implementation of the Tickit interface in Section~\ref{ch:methods:interface}.
Finally, in Section~\ref{ch:methods:threats}, we discuss drawbacks and failures in development, and room for future improvement as an open source project.


\section{Renderer Implementation} \label{ch:methods:renderer}
While building \name, two separate render engine prototypes were implemented.
The first, which we describe in Section~\ref{ch:methods:renderer:sequential}, was a simple, single core sequential renderer \cite{raytermCpuImpl}.
This engine was developed in three main development sprints, over a period of about two months.
The second, described in Section~\ref{ch:methods:renderer:parallel}, uses CUDA \cite{nvidia2011cuda} and OptiX \cite{parker2010optix} to leverage GPU compute power in parallel.
This engine was developed over two sprints, in a little under a month.


\subsection{Sequential} \label{ch:methods:renderer:sequential}

Introduction to sequential renderer, description of sequential, single core, etc.

\littlesection{Motivation} \label{ch:methods:renderer:sequential:motivation}

This section is about the reasoning behind starting with a sequential renderer, and how it can be better than alternatives.

\littlesection{Libraries} \label{ch:methods:renderer:sequential:libraries}

This section is about Eigen primarily, and developing \texttt{raymath} as well.

\littlesection{Design} \label{ch:methods:renderer:sequential:design}

This section is about the code structure and organization in the \texttt{rayterm-cpu} implementation.

\begin{enumerate}
  \item geometry defs
  \item material defs
  \item world defs
  \item renderer structure
\end{enumerate}

\littlesection{Prototype} \label{ch:methods:renderer:sequential:proto}

This is a demonstration section on what the current cpu implementation is capable of; images and the like will be included.

% TODO: change this name to be better
\littlesection{Takeaways} \label{ch:methods:renderer:sequential:takeaway}

This section describes the lessons learned from CPU implementation, and how the GPU implementation will differ and improve because of this step. It will also briefly reflect on challenges, and reference Section~\ref{ch:methods:threats}.

\subsection{Parallel} \label{ch:methods:renderer:parallel}

Introduction to parallel GPU renderer, description of parallel, short GPU intro (reference introduction).

\littlesection{Motivation} \label{ch:methods:renderer:parallel:motivation}

This section is about the reasoning behind finishing with a GPU renderer, describing speed benefits, etc.

\littlesection{Libraries} \label{ch:methods:renderer:parallel:libraries}

This section talks about OptiX and CUDA.

\littlesection{Design} \label{ch:methods:renderer:parallel:design}

This section is about the code structure and organization in the \texttt{rayterm} implementation.

\littlesection{Demonstration} \label{ch:methods:renderer:parallel:demo}

This is a demonstration section on final renderer is capabable of -- this section uses only \texttt{ppm} output.

\section{Interface Implementation} \label{ch:methods:interface}

\subsection{Design} \label{ch:methods:interface:design}

\section{Threats to Validity} \label{ch:methods:threats}

CPU:
\begin{enumerate}
  \item metal bug
  \item blender comparisons
  \item space differential
  \item coordinate systems
  \item research difficulty (can't read a physics textbook for each material)
\end{enumerate}

GPU:
\begin{enumerate}
  \item Travis testing
  \item library management
  \item gradle integration
  \item [...]
\end{enumerate}
